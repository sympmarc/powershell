<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html lang="en">
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Building the project | PnP PowerShell </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Building the project | PnP PowerShell ">
    <meta name="generator" content="docfx 2.51.0.0">
    <meta name="description" content="PnP PowerShell is an open source, community driven, PowerShell Module designed to work with Microsoft 365.">
    <link rel="shortcut icon" href="https://c.s-microsoft.com/favicon.ico?v2">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet"> 
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    <meta property="docfx:rel" content="../">
    <meta property="docfx:newtab" content="true">
  </head>  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../images/logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <label class="glyphicon glyphicon-search" for="search-query"></label>
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="buildingsourcecode">
                
                  <div class="contribution-panel mobile-hide pull-right">
                      <a href="https://github.com/pnp/powershell/blob/dev/pages/articles/buildingsource.md/#L1" title="Improve this Doc" class="improve-doc-lg"><i class="glyphicon glyphicon-pencil"></i></a>
                  </div>
                    <h1 id="building-the-project">Building the project</h1>

<p>Make a clone of the repository, navigate to the <code>build</code> folder in the repository and run <code>Build-Debug.ps1</code>.</p>
<p>This will restore all references and copy the required files to the correct location on your computer.</p>
<p>Notice that we refer to the nuget package of the PnP.Framework project. As this is rebuilt every night you will receive a new version of the PnP.Framework package every day.</p>
<p>If you run on Windows both the .NET Framework and the .NET Core version will be build and installed.</p>
<p>If you run on MacOS or Linux only the .NET Core version will be build and installed.</p>
<div class="NOTE">
<h5>Note</h5>
<p>Unlike the older repository for the legacy version of PowerShell for Windows you do not need to have local clone of the PnP Framework repository anymore (we changed the PnP Sites Core library used under the hood to the PnP Framework repository, see for more info about that library here: <a href="https://github.com/pnp/pnpframework">https://github.com/pnp/pnpframework</a>).</p>
</div>
<h2 id="folder-structure">Folder Structure</h2>
<p>In the repository you'll find the following folder structure</p>
<pre><code>- build
- documentation
- pages
- resources
- samples
- src/ALC
     /Commands
     /Resources
     /Tests
</code></pre>
<h3 id="build-folder">Build folder</h3>
<p>The build folder contains scripts used to build the project, build the Helpfile, etc. While debugging locally the <code>Build-Debug.ps1</code> script is the script to use to build the project and copy the correct files to the correct location on your machine. The other build scripts are used in GitHub actions to automate the nightly builds etc.</p>
<h3 id="documentation-folder">Documentation folder</h3>
<p>The documentation folder contains the markdown files all describing every single cmdlet available. If you create a new cmdlet we <em>require</em> you to also provide a documentation file. Notice that the documentation files <em>require</em> a front-matters yaml header as specified in the other files. Updated accordingly.</p>
<h3 id="pages-folder">Pages folder</h3>
<p>The pages folder contains the structure which is published to <a href="https://pnp.github.io/powershell">https://pnp.github.io/powershell</a>. We automatically copy the cmdlet documentation in there at build time, but you can create PRs on the 'articles' folder if you want.</p>
<h3 id="resources">Resources</h3>
<p>The resources folder contains an XML file which is copied into the output folder of the build. This file defines how PowerShell should parse and render the objects shown as output from the PnP PowerShell cmdlets</p>
<h3 id="srcalc">src/ALC</h3>
<p>Due to possible conflicts with already loaded assemblies in PowerShell we create an Assembly Load Context for a specific assembly. See <a href="https://docs.microsoft.com/dotnet/core/dependency-loading/understanding-assemblyloadcontext">https://docs.microsoft.com/dotnet/core/dependency-loading/understanding-assemblyloadcontext</a> for more information about ALCs.</p>
<h3 id="srccommands">src/Commands</h3>
<p>This is the main location of all the cmdlet code.</p>
<h3 id="srcresources">src/Resources</h3>
<p>Any resources used by cmdlets go into this folder</p>
<h3 id="srctests">src/Tests</h3>
<p>This is where the the unit/integration tests reside. See <a href="runningtests.html">Running test</a> for more information.</p>
<h1 id="running-against-a-local-copy-of-the-pnp-framework">Running against a local copy of the PnP Framework</h1>
<p>If your code changes require changes to the PnP Framework you might want to use a local version of the PnP Framework which you modified. In order to do this you will need to have both the PnP.PowerShell repository (<a href="https://github.com/pnp/powershell">https://github.com/pnp/powershell</a>) and the PnP.Framework repository (<a href="https://github.com/pnp/pnpframework">https://github.com/pnp/pnpframework</a>) locally on your computer. Make sure that both repositories are located at the same folder level. E.g.:</p>
<pre><code class="lang-console">c:\repos\powershell
c:\repos\pnpframework
</code></pre>
<p>Now, build the PnP Framework by navigating to the <code>build</code> folder in the <code>pnpframework</code> folder and run <code>Build-Debug.ps1</code>. This will compile the PnP Framework.</p>
<p>Next, navigate to the <code>build</code> folder of the <code>powershell</code> folder and run <code>Build-Debug.ps1 -LocalPnPFramework</code>. This will compile PnP PowerShell and refer to the -locally- compiled version of the PnP Framework. If you do not specify the <code>-LocalPnPFramework</code> switch it will refer to the latest nightly build available on NuGet.org instead.</p>
<h1 id="running-against-a-local-copy-of-the-pnp-core-sdk">Running against a local copy of the PnP Core SDK</h1>
<p>If your code changes require changes to the PnP Core SDK (meaning any of the PnP Core SDK libraries like: PnP.Core, PnP.Core.Auth, PnP.Core.Admin, PnP.Core.Transformation, or PnP.Core.Transformation.SharePoint) you might want to use a local version of the PnP Core SDK which you modified. In order to do this you will need to have both the PnP.PowerShell repository (<a href="https://github.com/pnp/powershell">https://github.com/pnp/powershell</a>) and the PnP.Core repository (<a href="https://github.com/pnp/pnpcore">https://github.com/pnp/pnpcore</a>) locally on your computer. Make sure that both repositories are located at the same folder level. E.g.:</p>
<pre><code class="lang-console">c:\repos\powershell
c:\repos\pnpcore
</code></pre>
<p>Now, build the PnP Core SDK by navigating to the <code>build</code> folder in the <code>pnpcore</code> folder and run <code>Build-Debug.ps1</code>. This will compile the whole PnP Core SDK solution, including PnP.Core.Auth, PnP.Core.Admin, PnP.Core.Transformation, and PnP.Core.Transformation.SharePoint.</p>
<p>Next, navigate to the <code>build</code> folder of the <code>powershell</code> folder and run <code>Build-Debug.ps1 -LocalPnPCore</code>. This will compile PnP PowerShell and refer to the -locally- compiled version of the PnP Core SDK. If you do not specify the <code>-LocalPnPCore</code> switch it will refer to the latest nightly build available on NuGet.org instead.</p>
</article>
          </div>
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              </nav>
            </div>
          </div>        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
            <img src="https://telemetry.sharepointpnp.com/@pnp.github.io/index/" alt="spacer">
          </div>
        </div>
      </footer>    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
    <script type="text/javascript">
        (function(c,l,a,r,i,t,y){
            c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
            t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
            y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
        })(window, document, "clarity", "script", "ag6usxufyq");
    </script>  </body>
</html>